@page "/list-quizzes"
@attribute [Authorize]

@inherits ListQuizBase

<div class="quiz-div">
    <DataGrid TItem="QuizViewModel"
              UseValidation="true"
              Hoverable="true"
              Data="@this.QuizViewModelsCollection"
              ReadData="@OnReadData"
              TotalItems="@this.TotalQuizzes"
              ShowPager="true"
              PageSize="10"
              Filterable="true"
              FilterMethod="DataGridFilterMethod.Contains"
              Editable="true"
              EditMode="DataGridEditMode.Inline">
        <ChildContent>
            <DataGridCommandColumn TItem="QuizViewModel">
                <NewCommandTemplate>
                    <Button Color="Color.Primary" Clicked="@this.OnNewClick">New</Button>
                </NewCommandTemplate>
                <EditCommandTemplate>
                    <Button Color="Color.Secondary" Clicked="() => this.OnEditClick(context.Item.Id)">Edit</Button>
                </EditCommandTemplate>
                <DeleteCommandTemplate>
                    <Button Color="Color.Danger">Delete</Button>
                </DeleteCommandTemplate>
            </DataGridCommandColumn>
            <DataGridColumn TItem="QuizViewModel" Field="@nameof(QuizViewModel.Name)" Caption="Name" />
            <DataGridColumn TItem="QuizViewModel" Field="@nameof(QuizViewModel.ExamName)" Caption="ExamName" />
            <DataGridColumn TItem="QuizViewModel" Field="@nameof(QuizViewModel.Published)" Caption="Published" Filterable="false" />
        </ChildContent>
        <EmptyTemplate>
            <p>No quizzes found!</p>
        </EmptyTemplate>
    </DataGrid>
</div>