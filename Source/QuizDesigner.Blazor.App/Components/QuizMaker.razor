@page "/quiz-maker"

@inherits QuizMakerBase

<div class="quiz-div">
    <div class="@(!this.IsDraft? "quiz-disable":string.Empty )">
        <Row>
            <Column ColumnSize="ColumnSize.Is5">
                <SelectList TItem="string"
                            ElementId="selectTag"
                            TValue="string"
                            Data="@this.TagCollection"
                            TextField="@(s => s)"
                            ValueField="@(s => s)"
                            SelectedValueChanged="this.OnSelectedValueChanged"
                            DefaultItemText="Select a Tag..." />
            </Column>
            <Validations @ref="Validations" Mode="ValidationMode.Manual">
                <Column ColumnSize="ColumnSize.Is3">
                    <Field>
                        <Validation Validator="@ValidationRule.IsNotEmpty">
                            <TextEdit Placeholder="Name" @bind-text="this.QuizName">
                                <Feedback>
                                    <ValidationError>Enter a name for the quiz</ValidationError>
                                </Feedback>
                            </TextEdit>
                        </Validation>
                    </Field>
                </Column>
                <Column ColumnSize="ColumnSize.Is2">
                    <Field>
                        <Validation Validator="@ValidationRule.IsNotEmpty">
                            <TextEdit Placeholder="Exam Name" @bind-Text="this.ExamName">
                                <Feedback>
                                    <ValidationError>Enter the exam name</ValidationError>
                                </Feedback>
                            </TextEdit>
                        </Validation>
                    </Field>
                </Column>
            </Validations>
        </Row>
    </div>
    <div style="margin-top: 30px;">
        <Row>
            <Column ColumnSize="ColumnSize.Is5" Class="@(!this.IsDraft? "quiz-disable":string.Empty )">
                <div id="left" class="quiz-data-div"></div>
            </Column>
            <Column ColumnSize="ColumnSize.Is5" Class="@(!this.IsDraft? "quiz-disable":string.Empty )">
                <div id="right" class="quiz-data-div"></div>
            </Column>
            <Column ColumnSize="ColumnSize.Is2">
                <div id="actions" class="quiz-data-div">
                    <Condition Evaluation="this.IsDraft">
                        <Match>
                            <Button Color="Color.Warning" Block="true" Clicked="OnSaveDraftAsync">Draft</Button>
                        </Match>
                        <NotMatch>
                            <Button Color="Color.Success" Block="true" Clicked="OnSaveAsync">Save</Button>
                        </NotMatch>
                    </Condition>
                    <Button Color="Color.Info" Block="true" Clicked="OnResetAsync">Reset</Button>
                </div>
            </Column>
        </Row>
    </div>
</div>